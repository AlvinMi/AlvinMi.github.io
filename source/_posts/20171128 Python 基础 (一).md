---
title: Python 基础 (一)
date: 2017-11-28 00:05:47
tags: Python
---


## [01 Python 基础](#01)
## [02 函数](#02)
## [03 高级特性](#03)
## [04 函数式编程](#04)
## [05 模块](#05)
## [06 面向对象高级编程](#06)
## [07 错误、调试和测试](#07)
## [08 IO 编程](#08)
## [09 进程和线程](#09)
## [10 正则表达式](#10)
## [11 常用内建模块](#11)
## [12 常用第三方模块](#12)
## [13 virtualenv](#13)
## [14 图形界面](#14)
## [15 网络编程](#15)
## [16 电子邮件](#16)
## [17 访问数据库](#17)
## [18 Web 开发](#18)
## [19 异步 IO](#19)
## [20 实战](#20)

---

## <span id="01">01 Python 基础</span>
>Python 学习基础，整理到这里。

* 数据类型和变量
    * 整数
    * 浮点数
    * 字符串
        特别注意转义字符

        ```python
        >>> print('I\'m alvinmi.')
        I'm alvinmi.
        >>> print('I\'m learning\nPython 3.')
        I'm learning
        Python 3.
        >>> print('\\\n\\') # \n 算一个回车
        \
        \
        ```

        如果字符串里有很多字符都需要转义, 就需要加很多 `\`, 为了简化, Python 允许用 `r''` 表示 `''` 内部的字符串默认不转义。

        ```python

        >>> print(r'\\\n\\')
        \\\n\\
        ```

        如果字符串内有很多换行, 用 `\n` 写在一行里不好阅读, 为了简化, Python 允许用 `'''...'''` 的格式来表示多行内容。

        ```Python
        >>> print('''line1
        ... line2
        ... line3''')
        line1
        line2
        line3   # 代码块中的 ... 不是属于代码的一部分，而是在交互式命令行内输入。
        ```

        如果直接写在 `.py` 的文件 中, 那么就是这样的。

        ```Python
        print(r'''line1
        line2
        line3''')
        ```

    * 布尔值
        * `and`、`or`、`not` 分别为与、或、非。
    * 空值
        * 空值是 Python 里一个特殊的值，用 None 表示。None不能理解为 0，因为 0 是有意义的，而 None 是一个特殊的空值。
    * 变量
        * 涉及了动态语言和静态语言的概念, 静态语言在定义变量的时候必须指定变量类型, 如果赋值的时候类型不匹配, 则将报错。而动态语言就非常灵活了。
    * 常量
        * Python 中通常大写的名字表示常量(习惯上的。)
        * 在 Python 中有两种除法, 一种除法是 `/`, 这个算出来的结果是浮点数, 即使两个整数恰好整除, 结果也是浮点数; 另一种是 `//`, 称为地板除, 两个整数的除法是整数, 结果只取整数部分。 当然也是有余数运算的 `%`。

* 字符串和编码
    * 弄清楚 `ASCII码`、`Unicode`、`UTF-8` 之间的关系。 如下

| 字符   | ASCII     | Unicode | UTF-8|
| :------------- | :------------- |-------|------|
|  A     | 01000001  |00000000 01000001 | 01000001 |
| 中     |   x       |01001110 00101101 | 11100100 10111000 10101101 |

Python 3 是支持多种语言的, 也就是采用的 `Unicode` 编码, 对于的单个字符的编码, Python 提供了 `ord()` 挂函数, 获取字符的整数表示形式, `chr()` 函数把编码转换为对应的字符。如

```Python
>>> ord('A')
65
>>> ord('中')
20013
>>> chr(66)
'B'
>>> chr(25991)
'文'
```
由于Python的字符串类型是 str，在内存中以 Unicode 表示，一个字符对应若干个字节。如果要在网络上传输，或者保存到磁盘上，就需要把 str 变为以字节为单位的 bytes。

Python 对 bytes 类型的数据用带 b 前缀的单引号或双引号表示.

以 Unicode 表示的 `str` 可以通过 `encode()` 方法可以编码为指定的 `bytes`.

```Python
>>> 'ABC'.encode('ascii')
b'ABC'
>>> '中文'.encode('utf-8')
b'\xe4\xb8\xad\xe6\x96\x87'
```

反之，如果从网络或磁盘上读取了字节流，那么读到的数据就是 bytes。要把 bytes 变为 str ，就需要用 `decode()`方法。

```Python
>>> b'ABC'.decode('ascii')
'ABC'
>>> b'\xe4\xb8\xad\xe6\x96\x87'.decode('utf-8')
'中文'     
```
如果 bytes 中包含无法解码的字节， decode() 方法会报错。如果 bytes 中只有一小部分无效的字节，可以传入 `errors='ignore'`忽略错误的字节。

```Python
>>> b'\xe4\xb8\xad\xff'.decode('utf-8', errors='ignore')
'中'
```

在操作字符串时，我们经常遇到str和bytes的互相转换。为了避免乱码问题，应当始终坚持使用UTF-8编码对str和bytes进行转换。

由于Python源代码也是一个文本文件，所以，当你的源代码中包含中文的时候，在保存源代码时，就需要务必指定保存为UTF-8编码。当 Python 解释器读取源代码时，为了让它按UTF-8编码读取，我们通常在文件开头写上这两行。

    ```Python
    #!/usr/bin/env python3
    # -*- coding: utf-8 -*-
    ```
在 Python 中，采用的格式化方式和 C 语言是一致的，用 `%` 实现。

`%d` 整数、`%f` 浮点数、`%s` 字符串、`%x` 十六进制整数。

另一种格式化的方法是使用字符串的 `format()` 方法, 它会传入的参数依次替换字符串内的占位符{0}、{1}……。 会比 % 要麻烦得多。

* 使用 list 和 tuple
    * list 里面 数据类型可以不同。也可以是另外一个 list。空的 list 长度为 0。
    * tuple 和 list 类似, 但是初始化后不能修改(不能修改的是 `tuple 的指向不变`)。tuple 陷阱 -> 当定义一个 tuple 的时候, tuple 的元素就必须被确定下来。
        * `tuple(1)` 由于空的 tuple(), 返回的值是 `()`, 而 () 即可以表示 tuple 类型, 又可以做小括号。则 Pyhton 里 `tuple(1)`, 会按小括号进行计算。结果自然是 1。如果需要显示一个元素, 那么需要在元素后面加逗号。

* 条件判断
    * `if`、`elif`、`else`。只要条件是 非零数值、非空字符串、非空 list 等, 就判断为 True, 否则为 False。

* 循环
    * `for x in ...`。
    * `range()` 函数。

        ```python
        num = 0
        for x in range(101):
        num = num + x
        print(num)
        ```
    * while 循环
    * break 提前结束循环; continue 结束当前循环。

* 使用 dict(字典) 和 set(集合)
    * dict

    Python 内置了字典：dict 的支持, dict 全称 dictionary, 在其他语言中也称为 map, 使用键-值（key-value）存储, 具有极快的查找速度。

    dict 使用 key-value 储存。举个栗子 -> lis = {'AA': 95, 'BB': 75, 'CC': 85}, 只需要通过 key 键值, 就能得到 value。如果 key 不存在, 那么 dict 就会报错。

    为了避免 key 不存在的错误, 有两种方法:
        * 一是通过 `in` 判断 key 是否存在。
        * 二是通过 dict 提供的 `get()`方法, 如果 key 不存在, 返回 None。注意：返回None的时候Python的交互环境不显示结果。
        * 输出一个 key 可以使用 pop() 方法。
        * dict 的 key 必须是 **不可变对象**。
    dict 是通过 key 来计算 value 的储存位置, 通过 key 计算位置的算法成为 **哈希算法(Hash)**  

    * set

    set 和 dict 类似, 也是一组 key 的集合, 但不存储 value。由于 key 不能重复, 所以, 在 set 中, 没有重复的 key。

    创建一个 set 需要提供一个 list 作为输入集合。重复的元素在 set 中自动被过滤。通过 add(key) 方法添加元素; 通过 remove(key) 方法可以删除元素。重复的没有效果。
    所以 set 可以看做是数学意义上 无序 和 无重复元素 的集合, 因此, 两个 set 可以做数学意义上的交集、并集操作。

    set 和 dict的唯一区别仅在于没有存储对应的 value。
    最常用的 key 字符串。

## <span id="02">02 函数</span>
#### 调用函数
要调用一个函数, 则需要知道函数的名字和参数, 比如 `abs` 函数, 可以查看 python 官方文档。
![abs函数](http://oygqszutp.bkt.clouddn.com/study/Python%20%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/01%20Python%20%E5%9F%BA%E7%A1%80%20abs%20%E5%87%BD%E6%95%B0.png)

#### 定义函数


#### 函数的参数
#### 递归函数


## <span id="03">03 高级特性</span>
## <span id="04">04 函数式编程</span>
## <span id="05">05 模块</span>
## <span id="06">06 面向对象高级编程</span>
## <span id="07">07 错误、调试和测试</span>
## <span id="08">08 IO 编程</span>
## <span id="09">09 进程和线程</span>
## <span id="10">10 正则表达式</span>
## <span id="11">11 常用内建模块</span>
## <span id="12">12 常用第三方模块</span>
## <span id="13">13 virtualenv</span>
## <span id="14">14 图形界面</span>
## <span id="15">15 网络编程</span>
## <span id="16">16 电子邮件</span>
## <span id="17">17 访问数据库</span>
## <span id="18">18 Web 开发</span>
## <span id="19">19 异步 IO</span>
## <span id="20">20 实战</span>
